<!doctype html><html lang=zh-CN dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content=" 相关环境 Open3D（https://github.com/IntelVCL/Open3D/） D435（https://github.com/IntelRealSense/librealsense） Open3D环境的安装 备注：官方版本有更新，遇到问题以官方说明为准\n"><title>中国荷斯坦牛建模相关技术的研究（Open3D、D435） - BoilTask's Blog</title>
<link rel=canonical href=https://boiltask.com/knowledge/cattle-model-technology/><link rel=stylesheet href=/scss/style.min.303acb11291165deab657d6fc256077fa8d6c9d1d678b50a36ddc2ee544719ca.css><meta property='og:title' content="中国荷斯坦牛建模相关技术的研究（Open3D、D435） - BoilTask's Blog"><meta property='og:description' content=" 相关环境 Open3D（https://github.com/IntelVCL/Open3D/） D435（https://github.com/IntelRealSense/librealsense） Open3D环境的安装 备注：官方版本有更新，遇到问题以官方说明为准\n"><meta property='og:url' content='https://boiltask.com/knowledge/cattle-model-technology/'><meta property='og:site_name' content="BoilTask's Blog"><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:published_time' content='2018-10-11T12:22:07+08:00'><meta property='article:modified_time' content='2018-10-11T12:22:07+08:00'><meta name=twitter:title content="中国荷斯坦牛建模相关技术的研究（Open3D、D435） - BoilTask's Blog"><meta name=twitter:description content=" 相关环境 Open3D（https://github.com/IntelVCL/Open3D/） D435（https://github.com/IntelRealSense/librealsense） Open3D环境的安装 备注：官方版本有更新，遇到问题以官方说明为准\n"><link rel="shortcut icon" href=/favicon.ico><script async src="https://www.googletagmanager.com/gtag/js?id=G-RMFB7F2J15"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-RMFB7F2J15")}</script><style>.main-container{display:none}</style><script>let isShouldLoad=!0;setTimeout(()=>{if(isShouldLoad){const e=document.getElementById("loadingOverlay");e&&(e.style.display="flex")}},200)</script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9893770372946812" crossorigin=anonymous></script><script src=https://unpkg.com/pangu@6.1.3/dist/browser/pangu.umd.js></script><script>document.addEventListener("DOMContentLoaded",()=>{isShouldLoad=!1,pangu.spacingPage();const e=document.getElementsByClassName("main-container");for(let t=0;t<e.length;t++)e[t].style.display="flex";const t=document.getElementById("loadingOverlay");t&&(t.style.display="none")})</script><style>.toast-container{position:fixed;top:20px;left:50%;transform:translateX(-50%);display:flex;flex-direction:column;align-items:center;gap:10px;z-index:9999}.toast{background-color:rgba(0,0,0,.85);color:#fff;padding:10px 16px;border-radius:6px;box-shadow:0 2px 6px rgba(0,0,0,.3);opacity:0;transform:translateY(-10px);transition:all .3s ease;font-size:14px;max-width:300px;text-align:center;pointer-events:none}.toast.show{opacity:1;transform:translateY(0)}.toast.hide{opacity:0;transform:translateY(-10px)}</style><div class=toast-container id=toastContainer></div><script>function showTips(e,t=3e3){const s=document.getElementById("toastContainer"),n=document.createElement("div");n.className="toast",n.textContent=e,s.appendChild(n),requestAnimationFrame(()=>{n.classList.add("show")}),setTimeout(()=>{n.classList.remove("show"),n.classList.add("hide"),setTimeout(()=>{s.removeChild(n)},300)},t)}</script></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=切换菜单>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/about><img src=/images/avatar_hu_de3d07ee7a4399c6.jpg width=300 height=300 class=site-logo loading=lazy alt=Avatar></a></figure><div class=site-meta><h1 class=site-name><a href=/>BoilTask's Blog</a></h1><h2 class=site-description>Game developer and designer, C/C++ | Golang | UE | Web</h2></div></header><ol class=menu-social><li><a href=https://github.com/BoilTask target=_blank title=1-GitHub rel=me>﻿<svg class="icon" viewBox="0 0 1024 1024" width="200" height="200" fill="currentcolor"><path d="M682.215454 981.446137c-25.532318.0-42.553863-17.021545-42.553864-42.553864V772.932206c4.255386-34.043091-8.510773-59.575409-29.787704-80.852341-12.766159-12.766159-17.021545-29.787704-8.510773-42.553864 4.255386-17.021545 21.276932-25.532318 34.043091-29.787704 123.406204-12.766159 238.301635-55.320023 238.301635-255.323181.0-46.80925-17.021545-93.6185-51.064636-131.916976-12.766159-12.766159-12.766159-29.787704-8.510772-42.553864 12.766159-34.043091 12.766159-68.086182 4.255386-102.129272-21.276932 4.255386-55.320023 17.021545-110.640045 55.320022-8.510773 8.510773-21.276932 8.510773-34.043091 4.255387-89.363113-25.532318-187.236999-25.532318-276.600112.0-12.766159 4.255386-25.532318 4.255386-38.298477-4.255387C307.741455 104.836549 269.442978 92.07039 248.166047 87.815004c-8.510773 34.043091-8.510773 68.086182 4.255386 102.129272 4.255386 17.021545 4.255386 34.043091-8.510773 42.553864-34.043091 38.298477-51.064636 85.107727-51.064636 131.916976.0 200.003158 114.895431 242.557022 238.301635 255.323181 17.021545.0 29.787704 12.766159 34.043091 29.787704 4.255386 17.021545.0 34.043091-8.510773 42.553864-21.276932 21.276932-29.787704 46.80925-29.787704 76.596954v165.960068c0 25.532318-17.021545 42.553863-42.553863 42.553863s-42.553863-17.021545-42.553864-42.553863v-72.341568c-127.66159 21.276932-182.981613-51.064636-221.28009-97.873886-17.021545-21.276932-29.787704-38.298477-46.80925-42.553864-21.276932-4.255386-38.298477-29.787704-29.787704-51.064636 4.255386-21.276932 29.787704-38.298477 51.064636-29.787704 42.553863 12.766159 68.086182 42.553863 93.6185 72.341568 34.043091 46.80925 63.830795 80.852341 153.193908 63.830795v-4.255386c0-25.532318 4.255386-55.320023 12.766159-76.596955-119.150818-25.532318-246.812408-102.129272-246.812408-327.664748.0-63.830795 21.276932-123.406204 59.575409-170.215454-17.021545-59.575409-12.766159-114.895431 12.766159-170.215454 4.255386-12.766159 12.766159-21.276932 25.532318-25.532318 17.021545-4.255386 72.341568-12.766159 187.236999 59.575409 93.6185-21.276932 191.492386-21.276932 280.855499.0 110.640045-72.341568 170.215454-63.830795 187.236999-59.575409 12.766159 4.255386 21.276932 12.766159 25.532319 25.532318 21.276932 55.320023 25.532318 110.640045 12.766159 165.960067 38.298477 46.80925 59.575409 106.384659 59.575408 170.215454.0 242.557022-144.683136 306.387817-246.812408 331.920135 8.510773 25.532318 12.766159 55.320023 12.766159 80.852341V938.892273c0 25.532318-17.021545 42.553863-42.553863 42.553864z"/></svg></a></li><li><a href=https://b23.tv/AVTDqjl target=_blank title=2-哔哩哔哩 rel=me><svg class="icon" viewBox="0 0 1024 1024" width="200" height="200" fill="currentcolor" stroke-width=".5"><path d="M998.4 352.256c-3.072-136.192-121.856-162.304-121.856-162.304s-92.672-.512-212.992-1.536l87.552-84.48s13.824-17.408-9.728-36.864c-23.552-19.456-25.088-10.752-33.28-5.632-7.168 5.12-112.128 108.032-130.56 126.464-47.616.0-97.28-.512-145.408-.512h16.896S323.584 63.488 315.392 57.856s-9.216-13.824-33.28 5.632c-23.552 19.456-9.728 36.864-9.728 36.864l89.6 87.04c-97.28.0-181.248.512-220.16 2.048C15.872 225.792 25.6 352.256 25.6 352.256s1.536 271.36.0 408.576c13.824 137.216 119.296 159.232 119.296 159.232s41.984 1.024 73.216 1.024c3.072 8.704 5.632 51.712 53.76 51.712 47.616.0 53.76-51.712 53.76-51.712s350.72-1.536 379.904-1.536c1.536 14.848 8.704 54.272 56.832 53.76 47.616-1.024 51.2-56.832 51.2-56.832s16.384-1.536 65.024.0c113.664-20.992 120.32-154.112 120.32-154.112s-2.048-273.92-.512-410.112zm-97.792 434.176c0 21.504-16.896 38.912-37.888 38.912h-691.2c-20.992.0-37.888-17.408-37.888-38.912V328.192c0-21.504 16.896-38.912 37.888-38.912h691.2c20.992.0 37.888 17.408 37.888 38.912v458.24z"/><path d="M409.088 418.816l-203.264 38.912 17.408 76.288 201.216-38.912zm109.568 202.24c-49.664 106.496-94.208 26.112-94.208 26.112l-33.28 21.504s65.536 89.6 128 21.504c73.728 68.096 130.048-22.016 130.048-22.016l-30.208-19.456c0-.512-52.736 75.776-100.352-27.648zM619.008 495.104l201.728 38.912 16.896-76.288-202.752-38.912z"/></svg></a></li><li><a href=https://www.zhihu.com/people/ou-yang-tian-8 target=_blank title=3-知乎 rel=me><svg class="icon" viewBox="0 0 1024 1024" width="200" height="200" fill="currentcolor"><path d="M544.949 561.422s0-71.387-34.779-75.05-142.775.0-142.775.0V266.718h161.078s-1.83-73.219-32.949-73.219H233.769l43.93-117.148s-65.897 3.663-89.692 45.761-98.844 252.604-98.844 252.604 25.627 10.983 67.726-20.134c42.101-31.116 56.743-86.033 56.743-86.033l76.879-3.663 1.83 223.316s-133.621-1.83-161.078.0-42.101 75.05-42.101 75.05h203.182s-18.307 124.47-69.557 214.164c-53.085 89.692-151.929 161.078-151.929 161.078s71.387 29.287 140.947-10.983c69.557-42.101 120.811-223.316 120.811-223.316l162.912 203.182s14.643-97.013-1.83-124.47c-18.307-27.457-113.49-137.283-113.49-137.283l-42.101 36.607 29.287-120.811h177.552zM587.05 188.01l-1.83 660.793h65.897l23.795 82.37 115.321-82.37h162.912V188.01H587.054zM879.92 775.584h-76.879l-97.013 75.05-21.965-75.05h-20.134V263.057H879.92v512.527z"/></svg></a></li><li><a href=https://travel.moe/go.html target=_blank title=4-萌ICP备 rel=me><svg class="icon" viewBox="0 0 1024 1024" width="200" height="200" stroke="currentcolor" fill="currentcolor"><path d="M300.272 834.688C161.712 868.544 53.136 857.504 14.8 791.552-28.432 717.12 25.456 600.128 145.648 487.648l3.456 3.84A365.12 365.12.0 01329.2 219.744a365.28 365.28.0 01335.872-15.488c173.536-45.088 308.032-49.12 345.12 14.784 42.016 72.32-14.848 183.808-132.992 295.968A365.664 365.664.0 01694.896 853.152 365.792 365.792.0 01300.24 834.688zm-47.68-40.416a365.728 365.728.0 01-57.216-74.976 363.84 363.84.0 01-48.544-163.424c-81.92 86.848-114.592 168.064-90.016 210.4 22.688 39.072 96.224 47.584 195.808 28zM727.12 240.512c40.256 29.216 75.2 67.2 101.664 113.056a365.856 365.856.0 0139.712 100.544c84.928-86.912 124.992-166.336 99.744-209.824-17.76-30.56-115.552-30.816-241.12-3.776zM363.856 816.64a316.768 316.768.0 00306.688-5.728A316.64 316.64.0 00828.272 558.56c-58.208 48.768-127.168 96.704-203.712 140.64-89.696 51.488-178.944 91.2-260.704 117.408zm-53.952-36c87.296-24.032 188.544-66.016 290.72-124.672 88-50.528 164.864-106.592 225.696-161.44a315.84 315.84.0 00-39.776-116.576c-87.52-151.584-281.376-203.552-432.96-116s-203.552 281.376-116 432.96a316.48 316.48.0 0072.32 85.728zM97.552 219.424a97.536 97.536.0 110-195.072 97.536 97.536.0 010 195.072zm0-48.768a48.768 48.768.0 100-97.504 48.768 48.768.0 000 97.504zm804.544 828.96a73.152 73.152.0 110-146.304 73.152 73.152.0 010 146.304z"/></svg></a></li><li><a href=https://www.foreverblog.cn/go.html target=_blank title=5-虫洞-十年之约 rel=me><svg style="stroke-width:10" width="24" height="24" viewBox="-25 -25 175 175" stroke-width="10" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path style="opacity:.963" d="M39.5-.5c18 0 36 0 54 0 25.906 3.40318 37.406 18.0699 34.5 44-1.548 6.2599-4.048 12.0932-7.5 17.5 10.083 16.1755 10.583 32.6755 1.5 49.5C116.656 118.425 109.156 122.591 99.5 123 81.1667 123.667 62.8333 123.667 44.5 123 41.9427 122.315 40.1094 120.815 39 118.5 38.3333 113.5 38.3333 108.5 39 103.5 39.7845 101.714 40.9512 100.214 42.5 99 59.8333 98.6667 77.1667 98.3333 94.5 98c9.609-2.0467 12.776-7.8801 9.5-17.5C102.833 78 101 76.1667 98.5 75c-18.2814-1.2805-36.6147-1.9472-55-2C40.8981 72.065 39.3981 70.2317 39 67.5 38.3333 62.8333 38.3333 58.1667 39 53.5 39.7845 51.714 40.9512 50.214 42.5 49c14.9824-1.7408 29.9824-1.9074 45-.5C92.8021 48.5402 97.8021 47.3736 102.5 45c3.661-5.771 3.328-11.4377-1-17C99.913 27.1376 98.2464 26.4709 96.5 26 76.5 25.3333 56.5 25.3333 36.5 26 27.8752 27.6247 23.0419 32.7913 22 41.5 21.6667 66.5 21.3333 91.5 21 116.5 20.2935 118.081 19.4601 119.581 18.5 121c-4.5466 1.545-9.21331 1.879-14 1C3.66667 121.167 2.83333 120.333 2 119.5.879634 108.756.0463011 98.0893-.5 87.5c0-11.6667.0-23.3333.0-35C.145927 43.294.97926 33.9607 2 24.5 5.07068 13.7623 11.904 6.59563 22.5 3 28.1987 1.31085 33.8654.144186 39.5-.5z"/></svg></a></li><li><a href=https://www.travellings.cn/go.html target=_blank title=6-开往 rel=me><svg width="24" height="24" viewBox="5 6 45 28" stroke="currentcolor"><defs><style>.cls-1,.cls-3{stroke-miterlimit:10}.cls-2{fill:none}</style></defs><g transform="scale(1)"><rect width="43" height="40" rx="6" fill="none" transform="translate(6 0)"/>/><path class="cls-2" d="M258.56 321.59h-1a4.4 4.4.0 01-4.17-2.84c-.08-.21-.17-.25-.38-.25a20.9 20.9.0 01-5.4-.48 6.33 6.33.0 01-2-.82 2 2 0 01-.77-2.7 6.19 6.19.0 011.65-2.08 26 26 0 016-3.78c.65-.32 1.31-.61 2-.91l.2-.07a6.85 6.85.0 010 .79c0 .09-.18.16-.29.22-1.45.75-2.93 1.47-4.37 2.26a14.47 14.47.0 00-3.38 2.54 4.27 4.27.0 00-1.07 1.55 1.1 1.1.0 00.3 1.27 4.56 4.56.0 002.06.94 15.82 15.82.0 003.56.42c.54.0 1.08.0 1.64.0v-3.84a6 6 0 01.72.44c.08.06.1.23.1.35.0.95.0 1.9.0 2.85.0.05.0.1.0.2l2.51-.18a2.69 2.69.0 01-1.17-2.31 2.56 2.56.0 01.75-1.72 2.63 2.63.0 013.33-.34 2.55 2.55.0 011.13 1.82 2.75 2.75.0 01-.64 2.12c1.26-.25 2.44-.46 3.61-.71q3.49-.75 6.9-1.83a.53.53.0 00.35-.3 2.58 2.58.0 013.6-1.24.43.43.0 00.33.0 40.54 40.54.0 008.11-4.08 11.05 11.05.0 002.48-2.14 5.1 5.1.0 00.71-1.15 1 1 0 00-.33-1.33 4.24 4.24.0 00-1.82-.85A16.29 16.29.0 00280 303h-2.12v3.24c-.28-.16-.51-.28-.73-.43a.29.29.0 01-.08-.21c0-1.34.0-2.68.0-4a3.66 3.66.0 00-3.1-3.85 3.5 3.5.0 00-.65.0H257.59a3.57 3.57.0 00-3.65 3 6.18 6.18.0 00-.05 1.06c0 1.23.0 2.47.0 3.71a.45.45.0 01-.27.48 5.22 5.22.0 00-.54.31c0-.12.0-.21.0-.3v-4.66a4.42 4.42.0 014.44-4.43h15.92a4.39 4.39.0 014.33 3.7c.08.52.07 1 .11 1.61h.4a21.93 21.93.0 015.54.46 5.88 5.88.0 012.12.91 2 2 0 01.68 2.65 6.73 6.73.0 01-1.84 2.23 27.34 27.34.0 01-6.35 3.87c-1 .47-2 .89-3.07 1.34l-.19.09A2.56 2.56.0 01275 317a2.36 2.36.0 01-2.52.77 2.61 2.61.0 01-2-2.47 68.93 68.93.0 01-16.29 3.13 3.51 3.51.0 00.93 1.36 3.69 3.69.0 002.63.95h13.1c.93.0 1.86.0 2.79.0a3.53 3.53.0 003.38-3.13c.08-1 0-2 0-3a.43.43.0 01.28-.47c.17-.07.32-.18.51-.28a2.06 2.06.0 010 .21c0 1.11.0 2.22.0 3.33a4.33 4.33.0 01-3.35 4 12.48 12.48.0 01-1.94.13 2.4 2.4.0 01-.27.0l.17.22.76.86a.43.43.0 010 .6.4.4.0 01-.61-.06c-.43-.46-.85-.93-1.26-1.42a.54.54.0 00-.46-.2H259.91a.68.68.0 00-.42.19c-.42.44-.81.9-1.21 1.36-.23.26-.47.31-.67.13s-.17-.42.06-.68l.13-.15z" transform="translate(-238 -290)"/><path class="cls-2" d="M264.12 305.24v1.41c0 .94.0 1.88.0 2.82A1.08 1.08.0 01263 310.6c-2.23.0-4.47.0-6.7.0a1 1 0 01-1.1-1.08v-8.05a1.06 1.06.0 011.16-1.13c1 0 2 0 3 0H263a1 1 0 011.08 1.1c0 1 0 1.93.0 2.93l2.17-.54c0 .27.0.5.0.73.0.06-.11.13-.18.15z" transform="translate(-238 -290)"/><path class="cls-2" d="M275.73 302.25h.71V303l-.7.09v6.23a1.1 1.1.0 01-.49 1.08 1.19 1.19.0 01-.55.15h-6.84a1 1 0 01-1-1v-8a1 1 0 011.18-1.19h6.53a1 1 0 011.19 1.09A7.82 7.82.0 01275.73 302.25z" transform="translate(-238 -290)"/></g></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>主页</span></a></li><li><a href=/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>文章归档</span></a></li><li><a href=/categories/><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg>
<span>分类</span></a></li><li><a href=/tags/><svg class="icon icon-tabler icon-tabler-tag" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11 3l9 9a1.5 1.5.0 010 2l-6 6a1.5 1.5.0 01-2 0L3 11V7a4 4 0 014-4h4"/><circle cx="9" cy="9" r="2"/></svg>
<span>标签云</span></a></li><li><a href=/boards/><svg class="icon icon-tabler icon-tabler-messages" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M21 14l-3-3h-7a1 1 0 01-1-1V4a1 1 0 011-1h9a1 1 0 011 1v10"/><path d="M14 15v2a1 1 0 01-1 1H6l-3 3V11a1 1 0 011-1h2"/></svg>
<span>留言板</span></a></li><li><a href=/links/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>友情链接</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>搜索</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>暗色模式</span></li></ol></li></ol></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category><a href=/knowledge/>知识汇总</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/knowledge/cattle-model-technology/>中国荷斯坦牛建模相关技术的研究（Open3D、D435）</a></h2></div><footer class=article-time><div class=article-time-item><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg>
文章字数：1751</div><div class=article-time-item><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>阅读时长: 4 分钟</time></div><div class=article-time-item><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>2018-10-11 12:22:07</time></div></footer></div></header><section class=article-content><ul><li>相关环境</li></ul><ol><li>Open3D（https://github.com/IntelVCL/Open3D/）</li><li>D435（https://github.com/IntelRealSense/librealsense）</li></ol><ul><li>Open3D环境的安装</li></ul><p>备注：官方版本有更新，遇到问题以官方说明为准</p><p>1.Python环境安装</p><p>Open3D安装成功导出一个Python库以供调用，网上有Open3D教程基于Python2.7，此处使用的Python版本为3.7，经测试可用。</p><p>Python安装可前往官网下载：<a class=link href=https://www.python.org/ title=https://www.python.org/ target=_blank rel=noopener>https://www.python.org/</a> ，安装时可勾选添加环境变量以免仍需自己配置。</p><p>2.Cmake环境安装</p><p>Cmake允许开发者编写一种平台无关的 CMakeList.txt 文件来定制整个编译流程，然后再根据目标用户的平台进一步生成所需的本地化 Makefile 和工程文件</p><p>在官网下载最新版本：<a class=link href=https://cmake.org title=https://cmake.org target=_blank rel=noopener>https://cmake.org</a> ，安装时勾选添加环境变量。​</p><p>3.Visual Studio环境安装</p><p>Visual Studio可前往官网下载：<a class=link href=https://visualstudio.microsoft.com/ title="Visual Studio: IDE and Code Editor for Software Developers and Teams" target=_blank rel=noopener>Visual Studio: IDE and Code Editor for Software Developers and Teams</a></p><p>Open3D官方推荐版本为2015，此处使用VS2017编译成功</p><p>4.Open3D编译</p><p>前往github下载最新的代码：https://github.com/IntelVCL/Open3D</p><p>参考官方文档：<a class=link href=http://www.open3d.org/docs/getting_started.html title=http://www.open3d.org/docs/getting_started.html target=_blank rel=noopener>http://www.open3d.org/docs/getting_started.html</a></p><p>使用Cmake最终可在Open3D文件夹下过的build文件夹，后续研究大部分基于此文件夹。</p><p>配置成功在python中输入import open3d应该可以正常运行</p><ul><li>D435环境的安装</li></ul><p>1.MeshLab安装</p><p>MeshLab用于打开相机导出的数据。</p><p>在官网下载最新版：<a class=link href=http://www.meshlab.net/#download title=MeshLab target=_blank rel=noopener>MeshLab</a></p><p>按照提示安装即可。</p><p>2.D435安装SDK</p><p>在github上下载官方SDK：</p><p><a class=link href=https://github.com/IntelRealSense/librealsense/releases target=_blank rel=noopener>https://github.com/IntelRealSense/librealsense/releases</a></p><p>其中主要是：Intel.RealSense.Viewer.exe</p><p>插入D435相机，运行Intel.RealSense.Viewer.exe，可在右方显示相机图像。</p><p>打开RGB通道与Depth通道，切换为3D模式，可导出ply文件</p><ul><li>运行代码</li></ul><p>为了方便调试代码，推荐把需要调试的代码与数据复制到其他文件夹操作。</p><p>合成代码：<a class=link href=https://paste.ubuntu.com/p/gq2SwfjVss/ title=https://paste.ubuntu.com/p/gq2SwfjVss/ target=_blank rel=noopener>https://paste.ubuntu.com/p/gq2SwfjVss/</a></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>  1
</span><span class=lnt>  2
</span><span class=lnt>  3
</span><span class=lnt>  4
</span><span class=lnt>  5
</span><span class=lnt>  6
</span><span class=lnt>  7
</span><span class=lnt>  8
</span><span class=lnt>  9
</span><span class=lnt> 10
</span><span class=lnt> 11
</span><span class=lnt> 12
</span><span class=lnt> 13
</span><span class=lnt> 14
</span><span class=lnt> 15
</span><span class=lnt> 16
</span><span class=lnt> 17
</span><span class=lnt> 18
</span><span class=lnt> 19
</span><span class=lnt> 20
</span><span class=lnt> 21
</span><span class=lnt> 22
</span><span class=lnt> 23
</span><span class=lnt> 24
</span><span class=lnt> 25
</span><span class=lnt> 26
</span><span class=lnt> 27
</span><span class=lnt> 28
</span><span class=lnt> 29
</span><span class=lnt> 30
</span><span class=lnt> 31
</span><span class=lnt> 32
</span><span class=lnt> 33
</span><span class=lnt> 34
</span><span class=lnt> 35
</span><span class=lnt> 36
</span><span class=lnt> 37
</span><span class=lnt> 38
</span><span class=lnt> 39
</span><span class=lnt> 40
</span><span class=lnt> 41
</span><span class=lnt> 42
</span><span class=lnt> 43
</span><span class=lnt> 44
</span><span class=lnt> 45
</span><span class=lnt> 46
</span><span class=lnt> 47
</span><span class=lnt> 48
</span><span class=lnt> 49
</span><span class=lnt> 50
</span><span class=lnt> 51
</span><span class=lnt> 52
</span><span class=lnt> 53
</span><span class=lnt> 54
</span><span class=lnt> 55
</span><span class=lnt> 56
</span><span class=lnt> 57
</span><span class=lnt> 58
</span><span class=lnt> 59
</span><span class=lnt> 60
</span><span class=lnt> 61
</span><span class=lnt> 62
</span><span class=lnt> 63
</span><span class=lnt> 64
</span><span class=lnt> 65
</span><span class=lnt> 66
</span><span class=lnt> 67
</span><span class=lnt> 68
</span><span class=lnt> 69
</span><span class=lnt> 70
</span><span class=lnt> 71
</span><span class=lnt> 72
</span><span class=lnt> 73
</span><span class=lnt> 74
</span><span class=lnt> 75
</span><span class=lnt> 76
</span><span class=lnt> 77
</span><span class=lnt> 78
</span><span class=lnt> 79
</span><span class=lnt> 80
</span><span class=lnt> 81
</span><span class=lnt> 82
</span><span class=lnt> 83
</span><span class=lnt> 84
</span><span class=lnt> 85
</span><span class=lnt> 86
</span><span class=lnt> 87
</span><span class=lnt> 88
</span><span class=lnt> 89
</span><span class=lnt> 90
</span><span class=lnt> 91
</span><span class=lnt> 92
</span><span class=lnt> 93
</span><span class=lnt> 94
</span><span class=lnt> 95
</span><span class=lnt> 96
</span><span class=lnt> 97
</span><span class=lnt> 98
</span><span class=lnt> 99
</span><span class=lnt>100
</span><span class=lnt>101
</span><span class=lnt>102
</span><span class=lnt>103
</span><span class=lnt>104
</span><span class=lnt>105
</span><span class=lnt>106
</span><span class=lnt>107
</span><span class=lnt>108
</span><span class=lnt>109
</span><span class=lnt>110
</span><span class=lnt>111
</span><span class=lnt>112
</span><span class=lnt>113
</span><span class=lnt>114
</span><span class=lnt>115
</span><span class=lnt>116
</span><span class=lnt>117
</span><span class=lnt>118
</span><span class=lnt>119
</span><span class=lnt>120
</span><span class=lnt>121
</span><span class=lnt>122
</span><span class=lnt>123
</span><span class=lnt>124
</span><span class=lnt>125
</span><span class=lnt>126
</span><span class=lnt>127
</span><span class=lnt>128
</span><span class=lnt>129
</span><span class=lnt>130
</span><span class=lnt>131
</span><span class=lnt>132
</span><span class=lnt>133
</span><span class=lnt>134
</span><span class=lnt>135
</span><span class=lnt>136
</span><span class=lnt>137
</span><span class=lnt>138
</span><span class=lnt>139
</span><span class=lnt>140
</span><span class=lnt>141
</span><span class=lnt>142
</span><span class=lnt>143
</span><span class=lnt>144
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>numpy</span> <span class=k>as</span> <span class=nn>np</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>open3d</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>open3d</span> <span class=kn>import</span> <span class=n>registration_ransac_based_on_feature_matching</span> <span class=k>as</span> <span class=n>RANSAC</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>open3d</span> <span class=kn>import</span> <span class=n>registration_icp</span> <span class=k>as</span> <span class=n>ICP</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>open3d</span> <span class=kn>import</span> <span class=n>compute_fpfh_feature</span> <span class=k>as</span> <span class=n>FPFH</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>open3d</span> <span class=kn>import</span> <span class=n>get_information_matrix_from_point_clouds</span> <span class=k>as</span> <span class=n>GET_GTG</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>register</span><span class=p>(</span><span class=n>pcd1</span><span class=p>,</span> <span class=n>pcd2</span><span class=p>,</span> <span class=n>size</span><span class=p>):</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>kdt_n</span> <span class=o>=</span> <span class=n>open3d</span><span class=o>.</span><span class=n>KDTreeSearchParamHybrid</span><span class=p>(</span><span class=n>radius</span><span class=o>=</span><span class=n>size</span><span class=p>,</span> <span class=n>max_nn</span><span class=o>=</span><span class=mi>50</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>kdt_f</span> <span class=o>=</span> <span class=n>open3d</span><span class=o>.</span><span class=n>KDTreeSearchParamHybrid</span><span class=p>(</span><span class=n>radius</span><span class=o>=</span><span class=n>size</span> <span class=o>*</span> <span class=mi>10</span><span class=p>,</span> <span class=n>max_nn</span><span class=o>=</span><span class=mi>50</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>pcd1_d</span> <span class=o>=</span> <span class=n>open3d</span><span class=o>.</span><span class=n>voxel_down_sample</span><span class=p>(</span><span class=n>pcd1</span><span class=p>,</span> <span class=n>size</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>pcd2_d</span> <span class=o>=</span> <span class=n>open3d</span><span class=o>.</span><span class=n>voxel_down_sample</span><span class=p>(</span><span class=n>pcd2</span><span class=p>,</span> <span class=n>size</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>open3d</span><span class=o>.</span><span class=n>estimate_normals</span><span class=p>(</span><span class=n>pcd1_d</span><span class=p>,</span> <span class=n>kdt_n</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>open3d</span><span class=o>.</span><span class=n>estimate_normals</span><span class=p>(</span><span class=n>pcd2_d</span><span class=p>,</span> <span class=n>kdt_n</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>pcd1_f</span> <span class=o>=</span> <span class=n>FPFH</span><span class=p>(</span><span class=n>pcd1_d</span><span class=p>,</span> <span class=n>kdt_f</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>pcd2_f</span> <span class=o>=</span> <span class=n>FPFH</span><span class=p>(</span><span class=n>pcd2_d</span><span class=p>,</span> <span class=n>kdt_f</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>checker</span> <span class=o>=</span> <span class=p>[</span><span class=n>open3d</span><span class=o>.</span><span class=n>CorrespondenceCheckerBasedOnEdgeLength</span><span class=p>(</span><span class=mf>0.9</span><span class=p>),</span>
</span></span><span class=line><span class=cl>               <span class=n>open3d</span><span class=o>.</span><span class=n>CorrespondenceCheckerBasedOnDistance</span><span class=p>(</span><span class=n>size</span> <span class=o>*</span> <span class=mi>2</span><span class=p>)]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>est_ptp</span> <span class=o>=</span> <span class=n>open3d</span><span class=o>.</span><span class=n>TransformationEstimationPointToPoint</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>est_ptpln</span> <span class=o>=</span> <span class=n>open3d</span><span class=o>.</span><span class=n>TransformationEstimationPointToPlane</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>criteria</span> <span class=o>=</span> <span class=n>open3d</span><span class=o>.</span><span class=n>RANSACConvergenceCriteria</span><span class=p>(</span><span class=n>max_iteration</span><span class=o>=</span><span class=mi>400000</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                                              <span class=n>max_validation</span><span class=o>=</span><span class=mi>500</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>result1</span> <span class=o>=</span> <span class=n>RANSAC</span><span class=p>(</span><span class=n>pcd1_d</span><span class=p>,</span> <span class=n>pcd2_d</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                     <span class=n>pcd1_f</span><span class=p>,</span> <span class=n>pcd2_f</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                     <span class=n>max_correspondence_distance</span><span class=o>=</span><span class=n>size</span> <span class=o>*</span> <span class=mi>2</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                     <span class=n>estimation_method</span><span class=o>=</span><span class=n>est_ptp</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                     <span class=n>ransac_n</span><span class=o>=</span><span class=mi>4</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                     <span class=n>checkers</span><span class=o>=</span><span class=n>checker</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                     <span class=n>criteria</span><span class=o>=</span><span class=n>criteria</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>result2</span> <span class=o>=</span> <span class=n>ICP</span><span class=p>(</span><span class=n>pcd1</span><span class=p>,</span> <span class=n>pcd2</span><span class=p>,</span> <span class=n>size</span><span class=p>,</span> <span class=n>result1</span><span class=o>.</span><span class=n>transformation</span><span class=p>,</span> <span class=n>est_ptpln</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>result2</span><span class=o>.</span><span class=n>transformation</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>merge</span><span class=p>(</span><span class=n>pcds</span><span class=p>):</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>all_points</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>pcd</span> <span class=ow>in</span> <span class=n>pcds</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>all_points</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>np</span><span class=o>.</span><span class=n>asarray</span><span class=p>(</span><span class=n>pcd</span><span class=o>.</span><span class=n>points</span><span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>merged_pcd</span> <span class=o>=</span> <span class=n>open3d</span><span class=o>.</span><span class=n>PointCloud</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>merged_pcd</span><span class=o>.</span><span class=n>points</span> <span class=o>=</span> <span class=n>open3d</span><span class=o>.</span><span class=n>Vector3dVector</span><span class=p>(</span><span class=n>np</span><span class=o>.</span><span class=n>vstack</span><span class=p>(</span><span class=n>all_points</span><span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>merged_pcd</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>add_color_normal</span><span class=p>(</span><span class=n>pcd</span><span class=p>):</span> <span class=c1># in-place coloring and adding normal</span>
</span></span><span class=line><span class=cl>    <span class=n>pcd</span><span class=o>.</span><span class=n>paint_uniform_color</span><span class=p>(</span><span class=n>np</span><span class=o>.</span><span class=n>random</span><span class=o>.</span><span class=n>rand</span><span class=p>(</span><span class=mi>3</span><span class=p>))</span>
</span></span><span class=line><span class=cl>    <span class=n>size</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>abs</span><span class=p>((</span><span class=n>pcd</span><span class=o>.</span><span class=n>get_max_bound</span><span class=p>()</span> <span class=o>-</span> <span class=n>pcd</span><span class=o>.</span><span class=n>get_min_bound</span><span class=p>()))</span><span class=o>.</span><span class=n>max</span><span class=p>()</span> <span class=o>/</span> <span class=mi>30</span>
</span></span><span class=line><span class=cl>    <span class=n>kdt_n</span> <span class=o>=</span> <span class=n>open3d</span><span class=o>.</span><span class=n>KDTreeSearchParamHybrid</span><span class=p>(</span><span class=n>radius</span><span class=o>=</span><span class=n>size</span><span class=p>,</span> <span class=n>max_nn</span><span class=o>=</span><span class=mi>50</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>open3d</span><span class=o>.</span><span class=n>estimate_normals</span><span class=p>(</span><span class=n>pcd</span><span class=p>,</span> <span class=n>kdt_n</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>load_pcds</span><span class=p>(</span><span class=n>pcd_files</span><span class=p>):</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>pcds</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>f</span> <span class=ow>in</span> <span class=n>pcd_files</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>pcd</span> <span class=o>=</span> <span class=n>open3d</span><span class=o>.</span><span class=n>read_point_cloud</span><span class=p>(</span><span class=n>f</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>add_color_normal</span><span class=p>(</span><span class=n>pcd</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>pcds</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>pcd</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>pcds</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>align_pcds</span><span class=p>(</span><span class=n>pcds</span><span class=p>,</span> <span class=n>size</span><span class=p>):</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>pose_graph</span> <span class=o>=</span> <span class=n>open3d</span><span class=o>.</span><span class=n>PoseGraph</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>accum_pose</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>identity</span><span class=p>(</span><span class=mi>4</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>pose_graph</span><span class=o>.</span><span class=n>nodes</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>open3d</span><span class=o>.</span><span class=n>PoseGraphNode</span><span class=p>(</span><span class=n>accum_pose</span><span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>n_pcds</span> <span class=o>=</span> <span class=nb>len</span><span class=p>(</span><span class=n>pcds</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>source_id</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>n_pcds</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>target_id</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>source_id</span> <span class=o>+</span> <span class=mi>1</span><span class=p>,</span> <span class=n>n_pcds</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=n>source</span> <span class=o>=</span> <span class=n>pcds</span><span class=p>[</span><span class=n>source_id</span><span class=p>]</span>
</span></span><span class=line><span class=cl>            <span class=n>target</span> <span class=o>=</span> <span class=n>pcds</span><span class=p>[</span><span class=n>target_id</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=n>trans</span> <span class=o>=</span> <span class=n>register</span><span class=p>(</span><span class=n>source</span><span class=p>,</span> <span class=n>target</span><span class=p>,</span> <span class=n>size</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=n>GTG_mat</span> <span class=o>=</span> <span class=n>GET_GTG</span><span class=p>(</span><span class=n>source</span><span class=p>,</span> <span class=n>target</span><span class=p>,</span> <span class=n>size</span><span class=p>,</span> <span class=n>trans</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>target_id</span> <span class=o>==</span> <span class=n>source_id</span> <span class=o>+</span> <span class=mi>1</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>accum_pose</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>matmul</span><span class=p>(</span><span class=n>trans</span><span class=p>,</span> <span class=n>accum_pose</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=n>pose_graph</span><span class=o>.</span><span class=n>nodes</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>open3d</span><span class=o>.</span><span class=n>PoseGraphNode</span><span class=p>(</span><span class=n>np</span><span class=o>.</span><span class=n>linalg</span><span class=o>.</span><span class=n>inv</span><span class=p>(</span><span class=n>accum_pose</span><span class=p>)))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=n>pose_graph</span><span class=o>.</span><span class=n>edges</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>open3d</span><span class=o>.</span><span class=n>PoseGraphEdge</span><span class=p>(</span><span class=n>source_id</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                                                       <span class=n>target_id</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                                                       <span class=n>trans</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                                                       <span class=n>GTG_mat</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                                                       <span class=n>uncertain</span><span class=o>=</span><span class=kc>True</span><span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>solver</span> <span class=o>=</span> <span class=n>open3d</span><span class=o>.</span><span class=n>GlobalOptimizationLevenbergMarquardt</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>criteria</span> <span class=o>=</span> <span class=n>open3d</span><span class=o>.</span><span class=n>GlobalOptimizationConvergenceCriteria</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>option</span> <span class=o>=</span> <span class=n>open3d</span><span class=o>.</span><span class=n>GlobalOptimizationOption</span><span class=p>(</span>
</span></span><span class=line><span class=cl>             <span class=n>max_correspondence_distance</span><span class=o>=</span><span class=n>size</span> <span class=o>/</span> <span class=mi>10</span><span class=p>,</span>
</span></span><span class=line><span class=cl>             <span class=n>edge_prune_threshold</span><span class=o>=</span><span class=n>size</span> <span class=o>/</span> <span class=mi>10</span><span class=p>,</span>
</span></span><span class=line><span class=cl>             <span class=n>reference_node</span><span class=o>=</span><span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>open3d</span><span class=o>.</span><span class=n>global_optimization</span><span class=p>(</span><span class=n>pose_graph</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                            <span class=n>method</span><span class=o>=</span><span class=n>solver</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                            <span class=n>criteria</span><span class=o>=</span><span class=n>criteria</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                            <span class=n>option</span><span class=o>=</span><span class=n>option</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>pcd_id</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>n_pcds</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>trans</span> <span class=o>=</span> <span class=n>pose_graph</span><span class=o>.</span><span class=n>nodes</span><span class=p>[</span><span class=n>pcd_id</span><span class=p>]</span><span class=o>.</span><span class=n>pose</span>
</span></span><span class=line><span class=cl>        <span class=n>pcds</span><span class=p>[</span><span class=n>pcd_id</span><span class=p>]</span><span class=o>.</span><span class=n>transform</span><span class=p>(</span><span class=n>trans</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>pcds</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>main</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=n>pcds</span> <span class=o>=</span> <span class=n>load_pcds</span><span class=p>([</span><span class=s2>&#34;data/test/bun270.ply&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>				  <span class=s2>&#34;data/test/bun315.ply&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>				  <span class=s2>&#34;data/test/chin.ply&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>				  <span class=s2>&#34;data/test/bun000.ply&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>				  <span class=s2>&#34;data/test/bun045.ply&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>				  <span class=s2>&#34;data/test/bun090.ply&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>				  <span class=s2>&#34;data/test/bun180.ply&#34;</span><span class=p>])</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>open3d</span><span class=o>.</span><span class=n>draw_geometries</span><span class=p>(</span><span class=n>pcds</span><span class=p>,</span> <span class=s2>&#34;input pcds&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>size</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>abs</span><span class=p>((</span><span class=n>pcds</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=o>.</span><span class=n>get_max_bound</span><span class=p>()</span> <span class=o>-</span> <span class=n>pcds</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=o>.</span><span class=n>get_min_bound</span><span class=p>()))</span><span class=o>.</span><span class=n>max</span><span class=p>()</span> <span class=o>/</span> <span class=mi>30</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>pcd_aligned</span> <span class=o>=</span> <span class=n>align_pcds</span><span class=p>(</span><span class=n>pcds</span><span class=p>,</span> <span class=n>size</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>open3d</span><span class=o>.</span><span class=n>draw_geometries</span><span class=p>(</span><span class=n>pcd_aligned</span><span class=p>,</span> <span class=s2>&#34;aligned&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>pcd_merge</span> <span class=o>=</span> <span class=n>merge</span><span class=p>(</span><span class=n>pcd_aligned</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>add_color_normal</span><span class=p>(</span><span class=n>pcd_merge</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>open3d</span><span class=o>.</span><span class=n>draw_geometries</span><span class=p>([</span><span class=n>pcd_merge</span><span class=p>],</span> <span class=s2>&#34;merged&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>&#39;__main__&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>main</span><span class=p>()</span></span></span></code></pre></td></tr></table></div></div><p><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" loading=lazy></p><p>将测试数据与代码放入对应文件夹内</p><ol><li>打开命令提示符窗口</li><li>cd 代码文件夹（如果不在C盘还需要再键入一行盘符，如D:）</li><li>python main.py（main.py为代码文件夹名称）</li></ol><p>环境配置无误的话将依次获得处理结果</p><ul><li>处理数据</li></ul><p>1.通过D435导出ply文件</p><p><img src=/knowledge/cattle-model-technology/image-1.png width=268 height=107 srcset="/knowledge/cattle-model-technology/image-1_hu_14d339ae64cda662.png 480w, /knowledge/cattle-model-technology/image-1_hu_9e1efb584eec7dca.png 1024w" loading=lazy class=gallery-image data-flex-grow=250 data-flex-basis=601px></p><p>2.导入MeshLab中，通过上方工具去除多余点</p><p>常用操作：</p><p>鼠标：旋转模型</p><p>Ctrl+鼠标：整体位置拖动
选取某一区域的点：<img src=/knowledge/cattle-model-technology/image-2.png width=192 height=50 srcset="/knowledge/cattle-model-technology/image-2_hu_e4a23eada29aff9.png 480w, /knowledge/cattle-model-technology/image-2_hu_c172bcf6554e88d3.png 1024w" loading=lazy class=gallery-image data-flex-grow=384 data-flex-basis=921px></p><p>删除所选的点：ctrl+delete</p><p><img src=/knowledge/cattle-model-technology/image-3.png width=1436 height=1035 srcset="/knowledge/cattle-model-technology/image-3_hu_cbbfb616187257de.png 480w, /knowledge/cattle-model-technology/image-3_hu_622dfca48f6afa42.png 1024w" loading=lazy class=gallery-image data-flex-grow=138 data-flex-basis=332px></p><p>处理完成后在左上角选择保存。</p><ol><li>把数据放入指定文件夹中</li><li>修改代码读取的文件名，即给pcds变量复制的load_pcds函数</li><li>运行代码查看效果</li></ol><ul><li>附录</li></ul><p>测试数据：</p><p><a class=link href=https://download.csdn.net/download/u011493189/10713389 title=https://download.csdn.net/download/u011493189/10713389 target=_blank rel=noopener>https://download.csdn.net/download/u011493189/10713389</a></p><p>3DCloud基于照片的3D模型构建：</p><p>官方网站：<a class=link href=http://www.3dcloud.cn title=http://www.3dcloud.cn target=_blank rel=noopener>http://www.3dcloud.cn</a></p><p>模型展示：</p><p><a class=link href="http://www.3dcloud.cn/Member/?m=Models&amp;a=model_view&amp;model_id=10078" title="http://www.3dcloud.cn/Member/?m=Models&amp;a=model_view&amp;model_id=10078" target=_blank rel=noopener>http://www.3dcloud.cn/Member/?m=Models&amp;a=model_view&amp;model_id=10078</a></p><p>所用照片：</p><p><a class=link href=https://download.csdn.net/download/u011493189/10713405 title=https://download.csdn.net/download/u011493189/10713405 target=_blank rel=noopener>https://download.csdn.net/download/u011493189/10713405</a></p><p>备注：</p><p>网站功能尚不完善，免费下载额度有限，高精度建模尚未开放，API尚未开放。</p><p>正在慢慢完善之中，可观察其后续进展。</p><p>​</p></section><footer class=article-footer><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span><p>该内容采用 <a href=https://creativecommons.org/licenses/by-nc-sa/4.0/ target=_blank>CC BY-NC-SA 4.0</a>许可协议。</p><p>如果对您有帮助或存在意见建议，欢迎在下方评论交流。</p></span></section></footer><link rel=stylesheet href=https://unpkg.com/katex@0.16.11/dist/katex.min.css integrity=sha384-nB0miv6/jRmo5UMMR1wu3Gz6NLsoTkbqJghGIsx//Rlm+ZU03BU6SQNC66uf4l5+ crossorigin=anonymous><script src=https://unpkg.com/katex@0.16.11/dist/katex.min.js integrity=sha384-7zkQWkzuo3B5mTepMUcHkMB5jZaolc2xDwL6VFqjFALcbeS9Ggm/Yr2r3Dy4lfFg crossorigin=anonymous defer></script><script src=https://unpkg.com/katex@0.16.11/dist/contrib/auto-render.min.js integrity=sha384-43gviWU0YVjaDtb/GhzOouOXtZMP/7XUzwPTstBeZFe/+rCMvRwr4yROQP43s0Xk crossorigin=anonymous defer></script><script>window.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".main-article");renderMathInElement(e,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}],ignoredClasses:["gist"]})})</script></article><aside class=related-content--wrapper><h2 class=section-title>相关文章</h2><div class=related-content><div class="flex article-list--tile"><article><a href=/knowledge/ue/ue-input/><div class=article-details><h2 class=article-title>虚幻引擎中输入与增强输入相关逻辑</h2></div></a></article><article><a href=/knowledge/ue/ue-redirect/><div class=article-details><h2 class=article-title>虚幻引擎中重定向的相关知识</h2></div></a></article><article><a href=/knowledge/ue/ue-deprecate/><div class=article-details><h2 class=article-title>虚幻引擎中各种类型的废弃（Deprecate）标记语法</h2></div></a></article><article><a href=/knowledge/multi-thread-output-odd-even/><div class=article-details><h2 class=article-title>多线程下交替输出奇偶数的方法</h2></div></a></article><article><a href=/knowledge/ue/ue-knowledge-base/><div class=article-details><h2 class=article-title>虚幻引擎中的一些基础概念</h2></div></a></article></div></div></aside><script src=https://giscus.app/client.js data-repo=BoilTask/BoilTask.github.io data-repo-id="MDEwOlJlcG9zaXRvcnkyODQ5Njk2MTU=" data-category=Announcements data-category-id=DIC_kwDOEPxKj84CkD1t data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=top data-theme=light data-lang=en data-loading=lazy crossorigin=anonymous async></script><script>function setGiscusTheme(e){let t=document.querySelector("iframe.giscus-frame");t&&t.contentWindow.postMessage({giscus:{setConfig:{theme:e}}},"https://giscus.app")}(function(){addEventListener("message",t=>{if(event.origin!=="https://giscus.app")return;e()}),window.addEventListener("onColorSchemeChange",e);function e(){setGiscusTheme(document.documentElement.dataset.scheme==="light"?"light":"dark_dimmed")}})()</script><footer class=site-footer><section class=copyright>&copy;
2010 -
2025 BoilTask's Blog</section><section class=powerby><a href=https://beian.miit.gov.cn/ target=_blank rel=noopener>豫ICP备15024677号-1</a><br>使用 <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> 构建 -
主题 <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.30.0>Stack</a></b> 由 <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a> 设计<br>个性化 Stack-Boil 由 <a href=https://github.com/BoilTask target=_blank>BoilTask</a> 设计</section><section class=powerby style=margin-top:5px><a href="https://icp.gov.moe/?keyword=20250158" target=_blank class=dida-moe-link><span>萌ICP备20250158号</span></a>
<a href=https://www.travellings.cn/go.html target=_blank class=dida-svg-link style=margin-left:5px><svg viewBox="-2 -2 164 44" stroke="currentcolor"><defs><style>.cls-1,.cls-3{stroke-miterlimit:10}.cls-2{fill:none}.cls-3{fill:currentColor}.cls-3{stroke-width:.25px}</style></defs><rect width="160" height="40" rx="6" fill="none"/><rect class="cls-1" x="2" y="2" width="156" height="36" rx="4" fill="none"/><path class="cls-2" d="M258.56 321.59h-1a4.4 4.4.0 01-4.17-2.84c-.08-.21-.17-.25-.38-.25a20.9 20.9.0 01-5.4-.48 6.33 6.33.0 01-2-.82 2 2 0 01-.77-2.7 6.19 6.19.0 011.65-2.08 26 26 0 016-3.78c.65-.32 1.31-.61 2-.91l.2-.07a6.85 6.85.0 010 .79c0 .09-.18.16-.29.22-1.45.75-2.93 1.47-4.37 2.26a14.47 14.47.0 00-3.38 2.54 4.27 4.27.0 00-1.07 1.55 1.1 1.1.0 00.3 1.27 4.56 4.56.0 002.06.94 15.82 15.82.0 003.56.42c.54.0 1.08.0 1.64.0v-3.84a6 6 0 01.72.44c.08.06.1.23.1.35.0.95.0 1.9.0 2.85.0.05.0.1.0.2l2.51-.18a2.69 2.69.0 01-1.17-2.31 2.56 2.56.0 01.75-1.72 2.63 2.63.0 013.33-.34 2.55 2.55.0 011.13 1.82 2.75 2.75.0 01-.64 2.12c1.26-.25 2.44-.46 3.61-.71q3.49-.75 6.9-1.83a.53.53.0 00.35-.3 2.58 2.58.0 013.6-1.24.43.43.0 00.33.0 40.54 40.54.0 008.11-4.08 11.05 11.05.0 002.48-2.14 5.1 5.1.0 00.71-1.15 1 1 0 00-.33-1.33 4.24 4.24.0 00-1.82-.85A16.29 16.29.0 00280 303h-2.12v3.24c-.28-.16-.51-.28-.73-.43a.29.29.0 01-.08-.21c0-1.34.0-2.68.0-4a3.66 3.66.0 00-3.1-3.85 3.5 3.5.0 00-.65.0H257.59a3.57 3.57.0 00-3.65 3 6.18 6.18.0 00-.05 1.06c0 1.23.0 2.47.0 3.71a.45.45.0 01-.27.48 5.22 5.22.0 00-.54.31c0-.12.0-.21.0-.3v-4.66a4.42 4.42.0 014.44-4.43h15.92a4.39 4.39.0 014.33 3.7c.08.52.07 1 .11 1.61h.4a21.93 21.93.0 015.54.46 5.88 5.88.0 012.12.91 2 2 0 01.68 2.65 6.73 6.73.0 01-1.84 2.23 27.34 27.34.0 01-6.35 3.87c-1 .47-2 .89-3.07 1.34l-.19.09A2.56 2.56.0 01275 317a2.36 2.36.0 01-2.52.77 2.61 2.61.0 01-2-2.47 68.93 68.93.0 01-16.29 3.13 3.51 3.51.0 00.93 1.36 3.69 3.69.0 002.63.95h13.1c.93.0 1.86.0 2.79.0a3.53 3.53.0 003.38-3.13c.08-1 0-2 0-3a.43.43.0 01.28-.47c.17-.07.32-.18.51-.28a2.06 2.06.0 010 .21c0 1.11.0 2.22.0 3.33a4.33 4.33.0 01-3.35 4 12.48 12.48.0 01-1.94.13 2.4 2.4.0 01-.27.0l.17.22.76.86a.43.43.0 010 .6.4.4.0 01-.61-.06c-.43-.46-.85-.93-1.26-1.42a.54.54.0 00-.46-.2H259.91a.68.68.0 00-.42.19c-.42.44-.81.9-1.21 1.36-.23.26-.47.31-.67.13s-.17-.42.06-.68l.13-.15z" transform="translate(-238 -290)"/><path class="cls-2" d="M264.12 305.24v1.41c0 .94.0 1.88.0 2.82A1.08 1.08.0 01263 310.6c-2.23.0-4.47.0-6.7.0a1 1 0 01-1.1-1.08v-8.05a1.06 1.06.0 011.16-1.13c1 0 2 0 3 0H263a1 1 0 011.08 1.1c0 1 0 1.93.0 2.93l2.17-.54c0 .27.0.5.0.73.0.06-.11.13-.18.15z" transform="translate(-238 -290)"/><path class="cls-2" d="M275.73 302.25h.71V303l-.7.09v6.23a1.1 1.1.0 01-.49 1.08 1.19 1.19.0 01-.55.15h-6.84a1 1 0 01-1-1v-8a1 1 0 011.18-1.19h6.53a1 1 0 011.19 1.09A7.82 7.82.0 01275.73 302.25z" transform="translate(-238 -290)"/><path class="cls-3" d="M301.66 302v1.41h-5.05v15.12h-1.55V303.39H290V302z" transform="translate(-238 -290)"/><path class="cls-3" d="M307.38 305.94a7.7 7.7.0 011.38.12 4.15 4.15.0 01.9.24l-.3 1.33a3.34 3.34.0 00-.74-.2 8.16 8.16.0 00-1.47-.11 6.39 6.39.0 00-1.54.15 3.38 3.38.0 00-.76.24v10.8h-1.48V306.75a10.83 10.83.0 011.57-.53A9 9 0 01307.38 305.94z" transform="translate(-238 -290)"/><path class="cls-3" d="M315.46 305.89a5 5 0 012 .35 3.39 3.39.0 011.31.95 3.75 3.75.0 01.73 1.45 6.9 6.9.0 01.23 1.81v7.78a4.81 4.81.0 01-.66.15l-1 .18c-.38.07-.8.12-1.27.16s-.94.06-1.42.06a6.23 6.23.0 01-1.72-.22 3.75 3.75.0 01-1.37-.68 3.29 3.29.0 01-.91-1.19 4.32 4.32.0 01-.33-1.78 3.67 3.67.0 01.37-1.72 3.22 3.22.0 011-1.18 4.67 4.67.0 011.57-.68 8.84 8.84.0 012-.21h.68l.68.1.57.12a1.23 1.23.0 01.33.11v-.77a8.55 8.55.0 00-.09-1.25 2.9 2.9.0 00-.4-1.1 2.2 2.2.0 00-.87-.78 3.09 3.09.0 00-1.47-.3 7.11 7.11.0 00-1.93.19c-.43.13-.74.23-.93.31l-.21-1.36a5.14 5.14.0 011.2-.36A9.7 9.7.0 01315.46 305.89zm.14 11.5c.58.0 1.08.0 1.51-.06a10.76 10.76.0 001.11-.15v-4.34a3.82 3.82.0 00-.8-.25 6.45 6.45.0 00-1.5-.14 7.49 7.49.0 00-1.14.09 2.92 2.92.0 00-1.09.36 2.1 2.1.0 00-1.14 2 2.91 2.91.0 00.21 1.17 1.86 1.86.0 00.62.76 2.48 2.48.0 001 .42A5.36 5.36.0 00315.6 317.39z" transform="translate(-238 -290)"/><path class="cls-3" d="M327 316.84c.32-.68.65-1.46 1-2.35s.66-1.79 1-2.74.6-1.9.87-2.86.49-1.87.67-2.71H332c-.27 1.13-.58 2.24-.92 3.34s-.69 2.17-1.06 3.22-.77 2.06-1.17 3-.8 1.89-1.18 2.74h-1.38c-.4-.85-.8-1.77-1.19-2.74s-.79-2-1.16-3-.73-2.12-1.07-3.22-.64-2.21-.91-3.34h1.57c.18.84.41 1.75.67 2.71s.56 1.91.87 2.86.64 1.86 1 2.74S326.72 316.16 327 316.84z" transform="translate(-238 -290)"/><path class="cls-3" d="M333.71 312.34a8.29 8.29.0 01.44-2.83 6.27 6.27.0 011.16-2 4.6 4.6.0 011.64-1.2 4.7 4.7.0 011.9-.4 4.34 4.34.0 013.45 1.48 6.82 6.82.0 011.29 4.56c0 .13.0.25.0.38v.36h-8.27a5.57 5.57.0 001.07 3.48 3.91 3.91.0 003.19 1.22 6.13 6.13.0 001.91-.24 9 9 0 001-.4l.27 1.33a5.46 5.46.0 01-1.2.45 7 7 0 01-2.06.27 6.55 6.55.0 01-2.64-.48 4.68 4.68.0 01-1.8-1.34 5.3 5.3.0 01-1-2A9.55 9.55.0 01333.71 312.34zm8.36-1a5.05 5.05.0 00-.87-3 2.74 2.74.0 00-2.32-1.07 3 3 0 00-1.43.33 3.6 3.6.0 00-1.09.9 4.22 4.22.0 00-.73 1.3 5.69 5.69.0 00-.31 1.55z" transform="translate(-238 -290)"/><path class="cls-3" d="M349.88 318.73a4.94 4.94.0 01-1.31-.2 2.44 2.44.0 01-.94-.55 2.41 2.41.0 01-.57-1 5 5 0 01-.19-1.46V300.29l1.48-.29v15.51a3.73 3.73.0 00.1.92 1.12 1.12.0 00.85.84 5.79 5.79.0 00.78.17z" transform="translate(-238 -290)"/><path class="cls-3" d="M355.69 318.73a4.88 4.88.0 01-1.31-.2 2.37 2.37.0 01-.94-.55 2.41 2.41.0 01-.57-1 4.7 4.7.0 01-.19-1.46V300.29l1.48-.29v15.51a3.3 3.3.0 00.1.92 1.28 1.28.0 00.31.55 1.24 1.24.0 00.53.29 6 6 0 00.79.17z" transform="translate(-238 -290)"/><path class="cls-3" d="M360.33 302.46a1.17 1.17.0 01-.32.87 1.06 1.06.0 01-.77.32 1.08 1.08.0 01-.78-.32 1.2 1.2.0 01-.31-.87 1.17 1.17.0 01.31-.87 1.05 1.05.0 01.78-.33 1 1 0 01.77.33A1.14 1.14.0 01360.33 302.46zM360 318.51h-1.48V306.18H360z" transform="translate(-238 -290)"/><path class="cls-3" d="M363.91 306.61c.44-.13 1-.27 1.77-.43a13.34 13.34.0 012.74-.24 5.47 5.47.0 012.24.41 3.5 3.5.0 011.44 1.15 5 5 0 01.76 1.8 11.19 11.19.0 01.23 2.32v6.89h-1.48v-6.39a11.7 11.7.0 00-.18-2.22 3.85 3.85.0 00-.56-1.48 2.29 2.29.0 00-1.05-.82 4.54 4.54.0 00-1.63-.25 11.82 11.82.0 00-1.81.12 5.77 5.77.0 00-1 .21v10.83h-1.48z" transform="translate(-238 -290)"/><path class="cls-3" d="M384.54 317.08a3.11 3.11.0 01-.41.28 6.13 6.13.0 01-.67.32 5.16 5.16.0 01-.91.27 5.1 5.1.0 01-1.15.11 6 6 0 01-2-.33 4.59 4.59.0 01-1.68-1.05 5.4 5.4.0 01-1.15-1.85 7.77 7.77.0 01-.43-2.76 7.37 7.37.0 01.39-2.43 5.82 5.82.0 011.1-1.95 5.16 5.16.0 011.76-1.28 5.64 5.64.0 012.33-.47 12.29 12.29.0 012.63.23c.66.15 1.2.3 1.63.44v11.26a5 5 0 01-1.37 3.95 6.14 6.14.0 01-4.12 1.18 10.75 10.75.0 01-2.06-.18 10.45 10.45.0 01-1.58-.42l.29-1.4a7 7 0 001.49.45 9.45 9.45.0 001.91.19 4.47 4.47.0 003-.85 3.74 3.74.0 00.94-2.9zm0-9.4a8.24 8.24.0 00-1-.22 10 10 0 00-1.76-.11 4 4 0 00-1.69.34 3.71 3.71.0 00-1.27 1 4.35 4.35.0 00-.79 1.51 6.82 6.82.0 000 4 4.07 4.07.0 00.83 1.42 3 3 0 001.18.8 3.66 3.66.0 001.34.25 5.09 5.09.0 001.83-.31 3.87 3.87.0 001.29-.71z" transform="translate(-238 -290)"/></svg></a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script><div id=loadingOverlay><div class=loader></div><p>加载中...</p></div><style>#loadingOverlay{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(255,255,255,.9);z-index:9999;display:none;justify-content:center;align-items:center;flex-direction:column}.loader{border:8px solid #f3f3f3;border-top:8px solid #3498db;border-radius:50%;width:60px;height:60px;animation:spin 1s linear infinite}@keyframes spin{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}</style><script>const openUrl=function(e){window.open(e,"_blank")},refreshBoiltaskOj=function(e,t){e.disabled=!0;const s=e.innerHTML;e.innerHTML='<span class="spinner"></span>';const n=t.indexOf("-");if(n===-1)return;const o=t.substring(0,n),i=t.substring(n+1);fetch("https://crawler.boiltask.com/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({oj:o,problem:i})}).then(e=>e.json()).then(e=>{showTips(e.code===0?"更新成功":"更新失败，错误码："+e.code)}).catch(e=>{showTips("更新失败，访问异常")}).finally(()=>{e.disabled=!1,e.innerHTML=s})}</script><script src=https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js></script><script>function decryptHugoContent(e,t){let n=t.trim().length;n%2===0&&(n+=1);const s=CryptoJS.SHA256(t).toString(CryptoJS.enc.Hex),o=e.slice(0,n)+e.slice(n+(s.length-n)),i=CryptoJS.enc.Base64.parse(o).toString(CryptoJS.enc.Utf8);return i}function animateExpand(e,t=400){e.style.display="block";const n=e.scrollHeight;e.style.overflow="hidden",e.style.height="0px",e.style.opacity="0",e.offsetHeight,e.style.transition=`height ${t}ms ease, opacity ${t}ms ease`,e.style.height=n+"px",e.style.opacity="1",e.addEventListener("transitionend",function t(n){n.propertyName==="height"&&(e.style.height="auto",e.style.overflow="visible",e.removeEventListener("transitionend",t))},{once:!0})}function animateCollapse(e,t=300){const n=e.scrollHeight;e.style.height=n+"px",e.style.overflow="hidden",e.offsetHeight,e.style.transition=`height ${t}ms ease, opacity ${t}ms ease`,e.style.height="0px",e.style.opacity="0",e.addEventListener("transitionend",function t(n){n.propertyName==="height"&&(e.style.display="none",e.removeEventListener("transitionend",t))},{once:!0})}function handleDecryptorSubmit(e){e.preventDefault();const s=e.currentTarget,t=s.querySelector(".dida-decryptor-input"),n=s.querySelector(".dida-decryptor-btn"),o=s.parentElement,a=o.querySelector(".decryptor-content"),r=o.querySelector(".decryptor-content-verify"),i=o.querySelector(".decryptor-content-decryptor"),c=o.querySelector(".decryptor-toolbar");n.disabled=!0,n.textContent="正在解密...",n.classList.add("loading"),setTimeout(()=>{try{if(!t.value){showTips?.("❌ 请输入密码！");return}const e=decryptHugoContent(r.innerHTML,t.value);if(e==="CHECK|pB7qdhnZzHJSHgqJ"){const e=decryptHugoContent(a.innerHTML,t.value);i.innerHTML=e,animateExpand(i),s.style.display="none",c.style.display="flex",t.classList.add("input-success"),showTips?.("✅ 密码正确！")}else t.classList.add("input-error"),showTips?.("❌ 密码错误！"),t.value="",t.focus(),setTimeout(()=>t.classList.remove("input-error"),500)}catch{t.classList.add("input-error"),showTips?.("❌ 密码错误！"),t.value="",t.focus(),setTimeout(()=>t.classList.remove("input-error"),500)}finally{n.disabled=!1,n.textContent="显示内容",n.classList.remove("loading")}},200)}function handleDecryptorReset(e){const t=e.closest(".dida-decryptor-container"),n=t.querySelector(".dida-decryptor-form"),s=t.querySelector(".decryptor-toolbar"),o=t.querySelector(".decryptor-content-decryptor");animateCollapse(o),setTimeout(()=>{n.style.display="block",s.style.display="none";const e=n.querySelector(".dida-decryptor-input");e.value="",e.focus()},350)}</script></body></html>