<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Lyra on BoilTask's Blog</title><link>https://boiltask.com/tags/lyra/</link><description>Recent content in Lyra on BoilTask's Blog</description><generator>Hugo -- gohugo.io</generator><language>zh-CN</language><lastBuildDate>Fri, 05 Sep 2025 12:59:55 +0800</lastBuildDate><atom:link href="https://boiltask.com/tags/lyra/index.xml" rel="self" type="application/rss+xml"/><item><title>Lyra设置页面相关设计</title><link>https://boiltask.com/knowledge/ue/lyra-setting-widget/</link><pubDate>Fri, 05 Sep 2025 12:59:55 +0800</pubDate><guid>https://boiltask.com/knowledge/ue/lyra-setting-widget/</guid><description>&lt;h2 id="简介">&lt;a href="#%e7%ae%80%e4%bb%8b" class="header-anchor">&lt;/a>简介
&lt;/h2>&lt;p>在Lyra中，通过&lt;code>ESC&lt;/code>键选择&lt;code>OPTIONS&lt;/code>可以呼出设置页面&lt;code>W_LyraSettingScreen&lt;/code>。&lt;/p>
&lt;h2 id="页面分析">&lt;a href="#%e9%a1%b5%e9%9d%a2%e5%88%86%e6%9e%90" class="header-anchor">&lt;/a>页面分析
&lt;/h2>&lt;p>&lt;code>W_LyraSettingScreen&lt;/code>继承于C++类&lt;code>ULyraSettingScreen&lt;/code>，其基于&lt;code>GameSettings&lt;/code>插件提供的&lt;code>UGameSettingScreen&lt;/code>。&lt;/p>
&lt;pre class="mermaid">
classDiagram
class W_LyraSettingScreen {
+TopSettingsTabs
+Settings_Panel
+W_BottomActionBar
}
UCommonUserWidget &amp;lt;|-- UCommonActivatableWidget
UCommonActivatableWidget &amp;lt;|-- UGameSettingScreen
UGameSettingScreen &amp;lt;|-- ULyraSettingScreen
ULyraSettingScreen &amp;lt;|-- W_LyraSettingScreen
&lt;/pre>
&lt;p>其中，&lt;code>GameSettings&lt;/code>插件基于&lt;code>CommonUI&lt;/code>插件，详细说明参考：&lt;a class="link" href="https://boiltask.com/ue/plugin-common-ui" >虚幻引擎中CommonUI插件&lt;/a>&lt;/p>
&lt;h3 id="页头页签">&lt;a href="#%e9%a1%b5%e5%a4%b4%e9%a1%b5%e7%ad%be" class="header-anchor">&lt;/a>页头页签
&lt;/h3>&lt;p>标签控件使用一个&lt;code>ULyraTabListWidgetBase&lt;/code>制作，通过在C++中定义&lt;code>BindWidget&lt;/code>，可以创建一个在C++中可以访问的蓝图控件。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="n">UPROPERTY&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">BlueprintReadOnly&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">Category&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Input&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">meta&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">BindWidget&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">OptionalWidget&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">true&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">AllowPrivateAccess&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">true&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">TObjectPtr&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">ULyraTabListWidgetBase&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">TopSettingsTabs&lt;/span>&lt;span class="p">;&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>这个控件在蓝图中被设为一个&lt;code>W_HorizontalTabList&lt;/code>，可以方便调整具体样式。&lt;/p>
&lt;blockquote>
&lt;p>可以参考：&lt;a class="link" href="https://dev.epicgames.com/documentation/zh-cn/unreal-engine/coding-in-unreal-engine-blueprint-vs-cplusplus?application_version=5.5#combining-blueprint-and-c" target="_blank" rel="noopener"
>结合蓝图与C++&lt;/a>&lt;/p>&lt;/blockquote>
&lt;p>在页面的&lt;code>Construct&lt;/code>时，会调用&lt;code>RegisterTopLevelTab&lt;/code>来依次注册各个Tab。&lt;/p>
&lt;ul>
&lt;li>GameplayCollection&lt;/li>
&lt;li>VideoCollection&lt;/li>
&lt;li>AudioCollection&lt;/li>
&lt;li>MouseAndKeyboardCollection&lt;/li>
&lt;li>GamepadCollection&lt;/li>
&lt;/ul>
&lt;p>对于每个Tab，通过&lt;code>UGameSettingScreen::GetSettingCollection&lt;/code>读取具体的设置。&lt;/p>
&lt;p>具体的设置项依赖于&lt;code>GameSetting&lt;/code>提供的&lt;code>UGameSettingCollection&lt;/code>类。&lt;/p>
&lt;p>注册之后，只需要监听&lt;code>TopSettingsTabs&lt;/code>的&lt;code>OnTabSelected&lt;/code>即可在玩家选择对应页签时切换至所选&lt;code>Collection&lt;/code>。&lt;/p>
&lt;h3 id="页面内容">&lt;a href="#%e9%a1%b5%e9%9d%a2%e5%86%85%e5%ae%b9" class="header-anchor">&lt;/a>页面内容
&lt;/h3>&lt;p>这部分主要靠&lt;code>GameSettings&lt;/code>插件调度，在&lt;code>UGameSettingScreen&lt;/code>中定义了变量&lt;code>Settings_Panel&lt;/code>用于标记设置内容控件。&lt;/p>
&lt;p>&lt;code>Settings_Panel&lt;/code>是蓝图&lt;code>W_SettingsPanel&lt;/code>，其基于&lt;code>GameSettings&lt;/code>插件提供的&lt;code>UGameSettingPanel&lt;/code>。&lt;/p>
&lt;p>界面提供了设置项&lt;code>ListView_Settings&lt;/code>列表，以及设置项详情&lt;code>Details_Settings&lt;/code>。&lt;/p>
&lt;h3 id="页尾按钮">&lt;a href="#%e9%a1%b5%e5%b0%be%e6%8c%89%e9%92%ae" class="header-anchor">&lt;/a>页尾按钮
&lt;/h3>&lt;p>TODO&lt;/p></description></item><item><title>Lyra中Loading界面的创建</title><link>https://boiltask.com/knowledge/ue/lyra-loading-ui/</link><pubDate>Mon, 28 Jul 2025 13:01:12 +0800</pubDate><guid>https://boiltask.com/knowledge/ue/lyra-loading-ui/</guid><description>&lt;p>在打开游戏地图之后，会发现首先打开了Loading界面，下面分析Loading界面的相关机制&lt;/p>
&lt;p>&lt;img src="https://r2.boiltask.com/2025/07/2ec341c6fd901bc93ff7a8570b35609c.png"
loading="lazy"
alt="image.png"
>&lt;/p>
&lt;p>通过定位，发现所展示的界面为&lt;code>W_LoadingScreen_Host&lt;/code>。&lt;/p>
&lt;blockquote>
&lt;p>由于Loading时间较短不好捕获，因此全局搜了一下Loading并通过修改界面的方式确定就是此界面。&lt;/p>&lt;/blockquote>
&lt;p>查找界面引用，并没有发现存在蓝图直接引用，因此猜测是配置在了Config中。&lt;/p>
&lt;p>搜索发现为&lt;code>CommonLoadingScreen&lt;/code>插件所提供的配置。&lt;/p>
&lt;p>&lt;img src="https://r2.boiltask.com/2025/07/00893d0706eb8482b5fd9a7c4de009f6.png"
loading="lazy"
alt="image.png"
>&lt;/p>
&lt;p>下面详细分析&lt;code>CommonLoadingScreen&lt;/code>插件的相关逻辑：&lt;/p>
&lt;p>&lt;a class="link" href="https://boiltask.com/knowledge/ue/common-loading-screen" >UE5中的CommonLoadingScreen插件&lt;/a>&lt;/p></description></item><item><title>Lyra的默认场景中关卡选择器的创建</title><link>https://boiltask.com/knowledge/ue/lyra-start-map/</link><pubDate>Thu, 28 Nov 2024 13:04:08 +0800</pubDate><guid>https://boiltask.com/knowledge/ue/lyra-start-map/</guid><description>&lt;p>打开Lyra的默认场景，运行后发现其生成了几个关卡选择器，研究一下生成原理。&lt;/p></description></item><item><title>虚幻引擎中下载Lyra官方示例项目</title><link>https://boiltask.com/knowledge/ue/lyra-download/</link><pubDate>Wed, 27 Nov 2024 12:54:43 +0800</pubDate><guid>https://boiltask.com/knowledge/ue/lyra-download/</guid><description>&lt;p>最近想要细研究一下&lt;code>UE5&lt;/code>的官方示例项目&lt;code>Lyra&lt;/code>，因此创建了一些相关的博文来记录一下研究过程中的所想，总结一下项目所涉及到的技术点。&lt;/p>
&lt;p>时间点开始于2024年11月，没有提到的话相关项目以此时间点的最新版本为准。&lt;/p>
&lt;p>Lyra的项目目前可以在Fab中找到：&lt;a class="link" href="https://www.fab.com/zh-cn/listings/93faede1-4434-47c0-85f1-bf27c0820ad0" target="_blank" rel="noopener"
>https://www.fab.com/zh-cn/listings/93faede1-4434-47c0-85f1-bf27c0820ad0&lt;/a>&lt;/p>
&lt;p>在虚幻引擎启动器&lt;code>Epic Games Launcher&lt;/code>中，可以在库找到&lt;code>Lyra&lt;/code>项目，创建项目即可。&lt;/p>
&lt;p>经过测试，虽然更新日志标注了支持UE5.5，不过目前创建的仍然是UE5.1版本，后续先使用UE5.1版本测试。&lt;/p></description></item></channel></rss>